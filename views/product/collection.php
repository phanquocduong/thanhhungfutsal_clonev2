<div class="crossbar">
    <span class="crossbar__title">Thanh Hùng Futsal - Giày Đá Bóng Chính Hãng - 2013</span>
</div>

<div class="grid wide collection-wrap">
    <div class="row">
        <div class="col l-3 m-3 c-10">
            <div class="filter-box">
                <h2 class="filter-heading">DANH MỤC</h2>
                <div class="menu-link-list">
                    <div class="menu-link-item <?=(isset($category) && ($category->getId() === 1)) ? 'active' : ''?>">
                        <a href="/thanhhungfutsal_v2/collection/1">Giày cỏ nhân tạo</a>
                    </div>
                    <div class="menu-link-item <?=(isset($category) && ($category->getId() === 2)) ? 'active' : ''?>">
                        <a href="/thanhhungfutsal_v2/collection/2">Giày futsal</a>
                    </div>
                    <div class="menu-link-item <?=(isset($category) && ($category->getId() === 3)) ? 'active' : ''?>">
                        <a href="/thanhhungfutsal_v2/collection/3">Phụ kiện</a>
                    </div>
                </div>
            </div>
            <div class="filter-box">
                <h2 class="filter-heading" onclick="toggleFilterMenu('filterPriceBox')">
                    GIÁ
                    <i class="fa-solid fa-chevron-down"></i>
                </h2>
                <ul id="filterPriceBox" class="filter-list">
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">Dưới 1,000,000₫</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">1,000,000₫ - 2,000,000₫</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">2,000,000₫ - 3,000,000₫</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">3,000,000₫ - 4,000,000₫</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">Trên 4,000,000₫</span>
                        </label>
                    </li>
                </ul>
            </div>
            <div class="filter-box">
                <h2 class="filter-heading" onclick="toggleFilterMenu('filterSizeBox')">
                    SIZE
                    <i class="fa-solid fa-chevron-down"></i>
                </h2>
                <ul id="filterSizeBox" class="filter-list filter-list--flex">
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">37</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">37.5</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">38</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">38 2/3</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">38.5</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">39</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">39 1/3</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">39.5</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">40</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">40.5</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">40 2/3</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">41</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">41 1/3</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">41.5</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">42</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">42 2/3</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">42.5</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">43</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">43 1/3</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">43.5</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">44</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">44.5</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">44 2/3</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">45</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">45 1/3</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">45.5</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">46</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">S</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">M</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">L</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">XL</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">XXL</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">L-LL [26.0cm-29.0cm]</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">S-M [22.5cm-25.5cm]</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">S [23cm-25cm]</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">M [25cm-27cm]</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">L [27cm-29cm]</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">39 (23-24cm)</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">40 1/2 (24-25cm)</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">42 (25-26cm)</span>
                        </label>
                    </li>
                    <li class="filter-item">
                        <label>
                            <input type="checkbox" class="filter-checkbox" />
                            <span class="filter-title">44 1/2 (27-28cm)</span>
                        </label>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col l-9 m-9 c-10">
            <img
                src="https://file.hstatic.net/200000278317/collection/main-category-banner-all_b1aecda6ba0a4d889d97e658c5f8b4d5_master.jpg"
                alt=""
                class="collection-banner"
            />
            <div class="collection-main__heading">
                <h1 class="collection-name"><?=isset($category) ? $category->getName() : 'TẤT CẢ SẢN PHẨM'?></h1>
                <!-- Lọc thứ tự -->
                <div class="sort-right">
                    <span class="sort-right__title">Sắp xếp theo:</span>
                    <div class="sort-right__selection">
                        <select class="sort-right__selection-list" id="sort-select">
                            <option value="">Mặc định</option>
                            <option value="price_asc">Giá: Tăng dần</option>
                            <option value="price_desc">Giá: Giảm dần</option>
                            <option value="name_asc">Tên: A-Z</option>
                            <option value="name_desc">Tên: Z-A</option>
                            <option value="soldest">Sản phẩm bán chạy</option>
                        </select>
                    </div>
                </div>
            </div>
            <p class="collection-desc">
                <?=isset($category) ? $category->getDescription() : 'Chọn một đôi giày đá bóng thích hợp sẽ giúp bạn tự tin thể hiện hết khả năng mỗi khi ra sân. Và để xác định đúng “chân ái”
                dành riêng cho bạn, có 3 yếu tố tiên quyết bạn nên cân nhắc: mặt sân thi đấu (sân sàn hay sân cỏ nhân tạo), form chân
                (chân thon hay bè) và mức giá mong muốn. Tại Thanh Hùng Futsal, chúng mình đang có sẵn những mẫu Giày Đá Bóng Cỏ Nhân Tạo
                và Giày Futsal mới và hot nhất đến từ 10 thương hiệu thể thao hàng đầu trong nước và quốc tế, bao gồm các thương hiệu hàng
                đầu hiện nay như Nike, adidas, PUMA, Mizuno, Joma, Asics...Cùng với đó là các Phụ Kiện Ra Sân tiện lợi như vớ, túi đựng
                giày, trái bóng,...'?>
            </p>
            <div class="row">
                <?php foreach ($products as $product): ?>
                    <div class="col l-3 m-3 c-10">
                        <a class="product-item" href="/thanhhungfutsal_v2/products/<?=$product->getId()?>">
                            <div
                                class="product-item__img"
                                style="
                                    background-image: url('/thanhhungfutsal_v2/public/images/products/<?=$product->getImage()?>');
                                "
                            ></div>
                            <h4 class="product-item__name"><?=$product->getName()?></h4>
                            <div class="product-item__price">
                                <?php if($product->getSale()): ?>
                                    <span class="product-item__price-current"><?=number_format($product->getSale())?>₫</span>
                                    <span class="product-item__price-old"><?=number_format($product->getPrice())?>₫</span>
                                <?php else: ?>
                                    <span class="product-item__price-current"><?=number_format($product->getPrice())?>₫</span>
                                <?php endif; ?>
                            </div>
                            <?php if (isset($product->sizes)): ?>
                                <div class="sizes-box">
                                    <?php foreach ($product->sizes as $size): ?>
                                        <div class="size-item"><?=$size->getSize()?></div>
                                    <?php endforeach; ?>
                                </div>
                            <?php endif; ?>
                            <?php if($product->getSale()): ?>
                                <div class="product-item__sale-off">-<?=$product->getPercentDiscount()?>%</div>
                            <?php endif; ?>
                        </a>
                    </div>
                <?php endforeach; ?>
            </div>
            <div class="pagination">
                <?php if ($currentPage > 1): ?>
                    <a href="?page=<?= $currentPage - 1 ?>" class="pagination-link__icon">
                        <i class="fa-solid fa-chevron-left"></i>
                    </a>
                <?php endif; ?>
                <?php for ($i = 1; $i <= $totalPages; $i++): ?>
                    <a href="?page=<?= $i ?>" 
                    class="pagination-link <?= $i === $currentPage ? 'active' : '' ?>">
                        <?= $i ?>
                    </a>
                <?php endfor; ?>
                <?php if ($currentPage < $totalPages): ?>
                    <a href="?page=<?= $currentPage + 1 ?>" class="pagination-link__icon">
                        <i class="fa-solid fa-chevron-right"></i>
                    </a>
                <?php endif; ?>
            </div>
        </div>
    </div>
</div>